{"ast":null,"code":"var _jsxFileName = \"/Users/Nikhil/Documents/rice-chat/client/src/containers/subscribe.js\";\nimport axios from 'axios';\nimport { BrowserRouter, Link, Redirect } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Helmet } from \"react-helmet\";\nimport React, { Component } from 'react';\nimport signup from './signup';\nimport sha256 from 'sha256';\nexport default class login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      subscribed: false,\n      subId: \"\",\n      subEnd: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n  }\n\n  handleEmailChange(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log(\"Here\");\n    console.log(this.state.email);\n    const payload = {\n      email: this.state.email\n    };\n    axios.post(\"http://localhost:5000/subscribe\", payload).then(res => {\n      //console.log(\"Subscribe ka response\",res.data);\n      if (res.data.Subscribed == true) {\n        this.setState({\n          subscribed: true\n        });\n        this.setState({\n          subId: res.data.subscription.id\n        });\n        var endDate = new Date(res.data.subscription.current_period_end * 1000);\n        this.setState({\n          subEnd: JSON.stringify(endDate)\n        });\n        this.forceUpdate();\n      }\n    });\n  }\n\n  render() {\n    if (this.state.subscribed) {\n      return React.createElement(Container, {\n        className: \"divStyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" You have successfully subscribed to the plan \"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \" Your Subscription id is : \", this.state.subId), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \" Your Subscription Ends at : \", this.state.subEnd)));\n    } else {\n      return React.createElement(Container, {\n        className: \"divStyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" Please subscribe first! \"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" Please confirm your email to subscribe. \"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"divStyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Email:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: this.handleEmailChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary control-label\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/Nikhil/Documents/rice-chat/client/src/containers/subscribe.js"],"names":["axios","BrowserRouter","Link","Redirect","Container","Row","Col","Helmet","React","Component","signup","sha256","login","constructor","state","email","subscribed","subId","subEnd","handleSubmit","bind","handleEmailChange","e","setState","target","value","preventDefault","console","log","payload","post","then","res","data","Subscribed","subscription","id","endDate","Date","current_period_end","JSON","stringify","forceUpdate","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { BrowserRouter,Link,Redirect } from 'react-router-dom';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {Helmet} from \"react-helmet\";\nimport React, { Component } from 'react';\nimport signup from './signup';\nimport sha256 from 'sha256';\n\nexport default class login extends React.Component\n{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state={\n\t\t\temail:\"\",\n\t\t\tsubscribed:false,\n\t\t\tsubId:\"\",\n\t\t\tsubEnd:\"\"\n\t\t};\n\t\tthis.handleSubmit=this.handleSubmit.bind(this);\n\t\tthis.handleEmailChange=this.handleEmailChange.bind(this);\n\n\t}\n\thandleEmailChange(e){\n\n\t\tthis.setState({email: e.target.value});\n\n\t}\n\thandleSubmit(e){\n\t\te.preventDefault();\n\t\t\n\t\tconsole.log(\"Here\");\n\t\tconsole.log(this.state.email);\n\t\tconst payload = {\n\t\t\temail: this.state.email\n\t\t}\n\t\taxios.post(\"http://localhost:5000/subscribe\", payload).then((res)=>{\n    \t \t\t//console.log(\"Subscribe ka response\",res.data);\n    \t \t\tif(res.data.Subscribed==true)\n    \t \t\t{\n    \t \t\t\tthis.setState({subscribed: true});\n    \t \t\t\tthis.setState({subId:res.data.subscription.id});\n    \t \t\t\tvar endDate=new Date(res.data.subscription.current_period_end*1000);\n    \t \t\t\tthis.setState({subEnd:JSON.stringify(endDate)});\t\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\n    \t})\n  \t}\n  \trender(){ \n  \t\tif(this.state.subscribed){\n  \t\t\treturn(\n  \t\t\t\t<Container className=\"divStyle\">\n\t\t\t\t\t<div>\n\t\t\t\t\t    <h3> You have successfully subscribed to the plan </h3>\n  \t\t\t\t\t\t<h3> Your Subscription id is : {this.state.subId}</h3>\n  \t\t\t\t\t\t<h3> Your Subscription Ends at : {this.state.subEnd}</h3>\n\t\t\t\t\t  </div>\t\t\t\t\t\t\n\t\t\t\t</Container>\n  \t\t\t);\n  \t\t}\n  \t\telse\n  \t\t{\n\t\t\treturn(\n\t\t\t\t<Container className=\"divStyle\">\n\t\t\t\t\t<div>\n\t\t\t\t\t<h2> Please subscribe first! </h2>\n\t\t\t\t\t<h3> Please confirm your email to subscribe. </h3>\n\t\t\t\t\t    <form>\n\t\t\t\t\t     <div className=\"divStyle\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tEmail: \n\t\t\t\t\t\t\t    <input type=\"text\" \n\t\t\t\t\t               name=\"email\" onChange={this.handleEmailChange}/>\n\t\t\t\t\t        </label>\n\t\t\t\t\t     </div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t    <button type=\"submit\" class=\"btn btn-primary control-label\" onClick={this.handleSubmit}>Submit</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t  </div>\t\t\t\t\t\t\n\t\t\t\t</Container>\n\t\t\t);\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}